<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rbot Vignette • Rbot</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Rbot Vignette">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rbot</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/Rbot.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Rbot Vignette</h1>
                        <h4 class="author">Nico Katzke</h4>
            
            <h4 class="date">2019-04-27</h4>
      
      
      <div class="hidden name"><code>Rbot.Rmd</code></div>

    </div>

    
    
<div id="rbot-making-r-and-your-phone-best-friends" class="section level2">
<h2 class="hasAnchor">
<a href="#rbot-making-r-and-your-phone-best-friends" class="anchor"></a>Rbot: Making R and your Phone Best Friends</h2>
<div id="brief-overview" class="section level4">
<h4 class="hasAnchor">
<a href="#brief-overview" class="anchor"></a>Brief Overview</h4>
<p>This package is intended to be a simplifying tool to make R and your phone communicate, and motivate why this is a powerful combination. Rbot is a wrapper to the APIs developed from the Telegram community, and facilitates the use of the telegram and telegram.bot apps in R.</p>
<blockquote>
<p>Using this package, your workflow for setting up with your phone to talk to R is as simple as 1 2 3 4:</p>
</blockquote>
<ol style="list-style-type: decimal">
<li><p>Install the <a href="https://telegram.org/">Telegram app</a> on your phone.</p></li>
<li>
<p>Open the app, and then send <a href="https://core.telegram.org/bots#6-botfather">botfather</a> the message: <strong>/newbot</strong>.</p>
<ul>
<li>Note - you will first have to start a conversation with botfather - search for __<span class="citation">@botfather__</span> from the Chats search bar, then start conversation and type /newbot.</li>
</ul>
</li>
</ol>
<ul>
<li><p>Click on the t.me/<botname>_bot link in the “Done! Congratulations…” message from botfather. Press start below and send your bot a message (“Hi Bot!”)</botname></p></li>
<li><p>Take note of the Token given by <span class="citation">@botfather</span>. It is a looong Token that you can easily misspell. <strong>TIP</strong>: mail this to yourself from your phone and copy Token into R (you will likely type something wrong…).</p></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>In R, run the following code to save your bot’s credentials on your computer (assuming default locations apply):</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">Token =<span class="st"> </span>YOURTOKEN  <span class="co"># given by the Botfather... Looks like: 3148997513::AFSIBIGEk2352235mpfFA</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw"><a href="../reference/Add_Bot.html">Add_Bot</a></span>(<span class="dt">Token =</span> Token) <span class="co"># By default, this is saved in: path.expand("~")</span></a></code></pre></div>
<ul>
<li>Note: you might get a message that says you “Please first send a message to your intended bot”. Go back to Telegram and send your bot a “hi” message. If you get an error: <em>object ‘R_TELEGRAM_BOT_RBot’ not found</em>, you have misspelled your Token (very easy to do).</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Now you can send messages, pdfs and images from R to your phone simply as follows:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># Text:</span></a>
<a class="sourceLine" id="cb2-2" title="2">BOTNAME &lt;-<span class="st"> "MyRbot"</span></a>
<a class="sourceLine" id="cb2-3" title="3">Msg &lt;-<span class="st"> "Hello!"</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw"><a href="../reference/Text_Bot.html">Text_Bot</a></span>(Msg, <span class="dt">Bot_Name =</span> BOTNAME, <span class="dt">Silent =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># PDF:</span></a>
<a class="sourceLine" id="cb3-2" title="2">BOTNAME &lt;-<span class="st"> "MyRbot"</span></a>
<a class="sourceLine" id="cb3-3" title="3">Doc_Loc &lt;-<span class="st"> "SomePDF.PDF"</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw"><a href="../reference/Doc_Bot.html">Doc_Bot</a></span>(<span class="dt">Doc_Location =</span> Doc_Loc, <span class="dt">Bot_Name =</span> BOTNAME, <span class="dt">Silent =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># Image:</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">png</span>(<span class="st">'Example_Plot.png'</span>)</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw">plot</span>(<span class="kw">rnorm</span>(<span class="dv">100</span>))</a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw">dev.off</span>()</a>
<a class="sourceLine" id="cb4-5" title="5"></a>
<a class="sourceLine" id="cb4-6" title="6">BOTNAME &lt;-<span class="st"> "MyRbot"</span></a>
<a class="sourceLine" id="cb4-7" title="7">Img_Loc &lt;-<span class="st"> "Example_Plot.png"</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="kw"><a href="../reference/Pic_Bot.html">Pic_Bot</a></span>(<span class="dt">Img_Loc =</span> Img_Loc, <span class="dt">Caption =</span> <span class="st">"Cool Figure Right?"</span>, <span class="dt">Bot_Name =</span> BOTNAME, <span class="dt">Silent =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<ul>
<li>The package also has a workflow for opening a connection that allow you to execute functions in R from your phone - see the next section.</li>
</ul>
</div>
<div id="detailed-overview" class="section level4">
<h4 class="hasAnchor">
<a href="#detailed-overview" class="anchor"></a>Detailed Overview</h4>
<p><strong>Rbot</strong> is a simplified wrapper package that shows a workflow to make it easy to communicate with R from your phone using the <a href="https://telegram.org/">Telegram App</a>. You should be ready to go in less than a minute provided you:</p>
<ul>
<li><p>Have the telegram app installed on your phone.</p></li>
<li><p>Message botfather (he will appear amongst your contacts automatically) the following:</p></li>
</ul>
<blockquote>
<p>/newbot</p>
</blockquote>
<ul>
<li>
<p>Now simply follow instructions from the Botfather (on your phone in the Telegram app) and create a new bot.</p>
<ul>
<li><p>Then, take note of the <strong>Token</strong> botfather provided, and click on the link: t.me/<yourbotname> in the confirmation message from botfather.</yourbotname></p></li>
<li><p>This takes you to the bot. Hit start, and send the bot a simple message to initialise your chat (simply type “hi”).</p></li>
<li><p>You can check the validity of your bot by typing into a browser on your computer (replacing YOURTOKEN with your token…): <a href="https://api.telegram.org/botYOURTOKEN/getMe" class="uri">https://api.telegram.org/botYOURTOKEN/getMe</a>.</p></li>
<li><p>If the browser does not give you an error message, it is a valid bot. It should also show you the bot name and bot username.</p></li>
<li><p>Telegram bots can receive messages or commands. Commands are always prefixed with a / character (e.g. when you told botfather /newbot).</p></li>
</ul>
</li>
</ul>
<blockquote>
<p>Now… simply remember your Token, and try the functions below.</p>
</blockquote>
</div>
</div>
<div id="add_bot" class="section level2">
<h2 class="hasAnchor">
<a href="#add_bot" class="anchor"></a>Add_Bot</h2>
<p>The Add_Bot function makes it easy to store all the needed information of your Telegram bots required for communication from and to R.</p>
<p>This makes it much easier to make use of your bots in R code, as you will otherwise be required to always input Tokens and IDs (which is not easy to memorize).</p>
<p>This little helper function will, by default, use the <strong>path.expand(“~”)</strong> location on your computer, but this can be overridden by using the <strong>Info_Loc</strong> argument and specifying your ideal path.</p>
<p>Let’s save your bot’s information as follows (you will be prompted to enter a name to identify this bot from your R console when running this function…):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"></a>
<a class="sourceLine" id="cb5-2" title="2">Token =<span class="st"> </span>YOURTOKEN  <span class="co"># given by the Botfather...</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw"><a href="../reference/Add_Bot.html">Add_Bot</a></span>(<span class="dt">Token =</span> Token)</a></code></pre></div>
<p>You can override the parameters to save this to a specific directory. See ?Add_Bot</p>
<p>If you chose the default path, your bot’s information is saved under the name you entered into the console prompt, with the prefix .Rbots_. you can now use the following to send messages from R to your newly created bot:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"></a>
<a class="sourceLine" id="cb6-2" title="2">BOTNAME &lt;-<span class="st"> "Nicks_Phone"</span> <span class="co"># You can of course assign a bot to a phone</span></a>
<a class="sourceLine" id="cb6-3" title="3">Msg &lt;-<span class="st"> "Hello!"</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="kw"><a href="../reference/Text_Bot.html">Text_Bot</a></span>(Msg, <span class="dt">Bot_Name =</span> BOTNAME, <span class="dt">Info_Loc =</span> <span class="ot">NULL</span>, <span class="dt">Token =</span> <span class="ot">NULL</span>, <span class="dt">Silent =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>You can now use messages in your R code very simply to alert you to progress, messages, errors or whatever text you desire - straight to your phone. E.g.:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"></a>
<a class="sourceLine" id="cb7-2" title="2">BOTNAME &lt;-<span class="st"> "Sams_Phone"</span></a>
<a class="sourceLine" id="cb7-3" title="3">    </a>
<a class="sourceLine" id="cb7-4" title="4"><span class="kw"><a href="../reference/Text_Bot.html">Text_Bot</a></span>(<span class="dt">Msg =</span> <span class="st">"Analysis Started"</span>, <span class="dt">Bot_Name =</span> BOTNAME)</a>
<a class="sourceLine" id="cb7-5" title="5"><span class="kw">foo</span>(x, y)</a>
<a class="sourceLine" id="cb7-6" title="6"><span class="kw">foo2</span>(x, y)</a>
<a class="sourceLine" id="cb7-7" title="7"><span class="kw"><a href="../reference/Text_Bot.html">Text_Bot</a></span>(<span class="dt">Msg =</span> <span class="st">"Analysis Ended"</span>, <span class="dt">Bot_Name =</span> BOTNAME)</a></code></pre></div>
<p>Or you can send yourself pdf versions of your rmarkdown files after it is built, or figures produced using ggplot.</p>
<p>A workflow example could look like this:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="co"># PDF:</span></a>
<a class="sourceLine" id="cb8-3" title="3">BOTNAME &lt;-<span class="st"> "Charlottes_Phone"</span></a>
<a class="sourceLine" id="cb8-4" title="4">Doc_Loc &lt;-<span class="st"> "SomePDF.PDF"</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="kw"><a href="../reference/Doc_Bot.html">Doc_Bot</a></span>(<span class="dt">Doc_Location =</span> Doc_Loc, <span class="dt">Bot_Name =</span> BOTNAME)</a></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"></a>
<a class="sourceLine" id="cb9-2" title="2">BOTNAME &lt;-<span class="st"> "Gids_Phone"</span></a>
<a class="sourceLine" id="cb9-3" title="3">Rmd_File &lt;-<span class="st"> "input.Rmd"</span></a>
<a class="sourceLine" id="cb9-4" title="4"></a>
<a class="sourceLine" id="cb9-5" title="5">Workflow &lt;-<span class="st"> </span><span class="cf">function</span>(BOTNAME, Rmd_File){</a>
<a class="sourceLine" id="cb9-6" title="6"></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="co"># Monthly Report generator function</span></a>
<a class="sourceLine" id="cb9-8" title="8">  </a>
<a class="sourceLine" id="cb9-9" title="9">Rbot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/Rbot/topics/Text_Bot">Text_Bot</a></span>(<span class="dt">Msg =</span> <span class="st">"Analysis Started"</span>, <span class="dt">Bot_Name =</span> BOTNAME)</a>
<a class="sourceLine" id="cb9-10" title="10"></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="co"># Quickly create a sanity check figure (which will be deleted after)  </span></a>
<a class="sourceLine" id="cb9-12" title="12"><span class="kw">png</span>(<span class="st">'Example_Plot.png'</span>)</a>
<a class="sourceLine" id="cb9-13" title="13"><span class="kw">plot</span>(<span class="kw">rnorm</span>(<span class="dv">100</span>))</a>
<a class="sourceLine" id="cb9-14" title="14"><span class="kw">dev.off</span>()</a>
<a class="sourceLine" id="cb9-15" title="15">Rbot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/Rbot/topics/Pic_Bot">Pic_Bot</a></span>(<span class="dt">Img_Loc =</span> <span class="st">"Example_Plot.png"</span>, <span class="dt">Caption =</span> <span class="st">"Check Figure that appears in pdf file."</span>, <span class="dt">Bot_Name =</span> BOTNAME)</a>
<a class="sourceLine" id="cb9-16" title="16"><span class="kw">rm</span>(<span class="st">"Example_Plot.png"</span>)</a>
<a class="sourceLine" id="cb9-17" title="17"></a>
<a class="sourceLine" id="cb9-18" title="18">rmarkdown<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/rmarkdown/topics/render">render</a></span>(Rmd_File, <span class="st">"pdf_document"</span>)  </a>
<a class="sourceLine" id="cb9-19" title="19">Rbot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/Rbot/topics/Doc_Bot">Doc_Bot</a></span>(<span class="dt">Doc_Location =</span> <span class="kw">gsub</span>(<span class="st">"Rmd"</span>, <span class="st">"pdf"</span>, Rmd_File), <span class="dt">Bot_Name =</span> BOTNAME)</a>
<a class="sourceLine" id="cb9-20" title="20">Rbot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/Rbot/topics/Text_Bot">Text_Bot</a></span>(<span class="dt">Msg =</span> <span class="st">"</span><span class="ch">\n</span><span class="st">Analysis complete. Please check pdf built prior to sending out to clients.</span><span class="ch">\n\n</span><span class="st"> * Email me at: UseR@gmail.com if something does not look accurate."</span>, <span class="dt">Bot_Name =</span> BOTNAME)</a>
<a class="sourceLine" id="cb9-21" title="21"></a>
<a class="sourceLine" id="cb9-22" title="22">}</a>
<a class="sourceLine" id="cb9-23" title="23"></a>
<a class="sourceLine" id="cb9-24" title="24"></a>
<a class="sourceLine" id="cb9-25" title="25"><span class="kw">Workflow</span>(BOTNAME, Rmd_File)</a></code></pre></div>
</div>
<div id="show_bot" class="section level2">
<h2 class="hasAnchor">
<a href="#show_bot" class="anchor"></a>Show_Bot</h2>
<p>This allows you to quickly view what Bots you have saved:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="kw"><a href="../reference/Show_Bots.html">Show_Bots</a></span>() <span class="co"># Assumes default path.expand("~") is used.</span></a></code></pre></div>
</div>
<div id="text_bot-img_bot-doc_bot" class="section level2">
<h2 class="hasAnchor">
<a href="#text_bot-img_bot-doc_bot" class="anchor"></a>Text_Bot, Img_Bot, Doc_Bot</h2>
<p>All of these functions work on the same premise:</p>
<ul>
<li><p>Provide your bot’s name in the function</p></li>
<li><p>Add the message, location of a document (e.g. pdf) or the location of a figure on your computer</p></li>
<li><p>Send your meesage, document or figure to your phone.</p></li>
</ul>
<p>By default, the path.expand(“~”) location will be used (run this in R to see where on your computer the location is) to retrieve the saved Bot’s information.</p>
<p>If you prefer not to save your bots’ Tokens on your computer, you could instead directly add your Bot’s Token to each of the functions.</p>
</div>
<div id="foo_bot" class="section level2">
<h2 class="hasAnchor">
<a href="#foo_bot" class="anchor"></a>Foo_Bot</h2>
<p>This function offers a simple workflow for developers to open a connection between Telegram on your phone and their R consoles. You can plan functions with arguments to be sent from Telegram to R - allowing you to deploy production code remotely.</p>
<blockquote>
<p>Note running this function implies your R session will be occupied (talking to Telegram). This can be stopped from your phone or your console, and is ideal for use on public computers or servers - where the ability to remotely control or shut down a computer is essential.</p>
</blockquote>
<p>The main idea behind this function is to allow you to execute a set of functions on your computer from your phone. If the function list is set to NULL (default), it simply allows the user to force switch off a computer or server at any time from your phone.</p>
<p>Currently, the function allows you to have 30 separate functions, with your own calls and arguments, open for execution from your phone.</p>
<p>The functions will be <strong>safely</strong> executed, implying if there is an error it will not interrupt your connection to the phone. Rather, it will show the error message on your phone, and allow you to keep the connection open.</p>
<p>Your ability to scale this function is limited only by your imagination - e.g. using it in a workflow run from a server where your connection to a bot is constantly open. From it, you could then initialise bash scripts from R, that in turn applies production functions, alerting you to progress from built in Text_Bot calls.</p>
<p>Below I show a simple example, as well as an illustration of a workflow using <strong>Foo_Bot</strong>. Add a bot called ‘A’, and run the following chunk.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"></a>
<a class="sourceLine" id="cb11-2" title="2"> <span class="co"># Provide a Function_List with the the following inputs per function:</span></a>
<a class="sourceLine" id="cb11-3" title="3"></a>
<a class="sourceLine" id="cb11-4" title="4"> <span class="co"># Function_List$Foo1, Function_List$Foo2, ... : can provide up to 30 functions</span></a>
<a class="sourceLine" id="cb11-5" title="5"> <span class="co"># Function_List$Call : What to type in Telegram. Used as /Call in Telegram</span></a>
<a class="sourceLine" id="cb11-6" title="6"> <span class="co"># Function_List$Args : TRUE / FALSE; whether to be able to include an argument. If excluded, it defaults to FALSE.</span></a>
<a class="sourceLine" id="cb11-7" title="7"> <span class="co"># Function_List$Message : How to describe this function in Telegram.</span></a>
<a class="sourceLine" id="cb11-8" title="8"> <span class="co"># Example below:</span></a>
<a class="sourceLine" id="cb11-9" title="9"></a>
<a class="sourceLine" id="cb11-10" title="10"> Function_List &lt;-<span class="st"> </span><span class="kw">list</span>()</a>
<a class="sourceLine" id="cb11-11" title="11"></a>
<a class="sourceLine" id="cb11-12" title="12">First_Foo &lt;-<span class="st"> </span><span class="cf">function</span>(X){</a>
<a class="sourceLine" id="cb11-13" title="13">   </a>
<a class="sourceLine" id="cb11-14" title="14">   Inputs &lt;-<span class="st"> </span><span class="kw">eval</span>(<span class="kw">parse</span>(<span class="dt">text =</span> X))</a>
<a class="sourceLine" id="cb11-15" title="15">   </a>
<a class="sourceLine" id="cb11-16" title="16">   Msg_Foo &lt;-<span class="st"> </span><span class="cf">function</span>(Arg1, Arg2, Arg3, TFalse) {</a>
<a class="sourceLine" id="cb11-17" title="17">      </a>
<a class="sourceLine" id="cb11-18" title="18">      <span class="cf">if</span>(TFalse <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>) <span class="kw">message</span>(<span class="kw">paste</span>(Arg1, Arg2, Arg3, <span class="dt">sep =</span> <span class="st">"/n"</span>))</a>
<a class="sourceLine" id="cb11-19" title="19">      </a>
<a class="sourceLine" id="cb11-20" title="20">   }</a>
<a class="sourceLine" id="cb11-21" title="21">   </a>
<a class="sourceLine" id="cb11-22" title="22">   <span class="kw">Msg_Foo</span>(<span class="dt">Arg1 =</span> Inputs[<span class="st">"Arg1"</span>], </a>
<a class="sourceLine" id="cb11-23" title="23">           <span class="dt">Arg2 =</span> Inputs[<span class="st">"Arg2"</span>],</a>
<a class="sourceLine" id="cb11-24" title="24">           <span class="dt">Arg3 =</span> Inputs[<span class="st">"Arg3"</span>],</a>
<a class="sourceLine" id="cb11-25" title="25">           <span class="dt">TFalse =</span> Inputs[<span class="st">"TFalse"</span>]</a>
<a class="sourceLine" id="cb11-26" title="26">   )</a>
<a class="sourceLine" id="cb11-27" title="27">   </a>
<a class="sourceLine" id="cb11-28" title="28">   <span class="kw">message</span>(<span class="st">"R Msg: ....Function 1 executed...."</span>)</a>
<a class="sourceLine" id="cb11-29" title="29"></a>
<a class="sourceLine" id="cb11-30" title="30">}</a>
<a class="sourceLine" id="cb11-31" title="31"></a>
<a class="sourceLine" id="cb11-32" title="32">Function_List<span class="op">$</span>Foo1 &lt;-</a>
<a class="sourceLine" id="cb11-33" title="33"><span class="st">   </span><span class="kw">list</span>(<span class="dt">Function =</span> First_Foo,</a>
<a class="sourceLine" id="cb11-34" title="34"><span class="co"># How to call your function from Telegram</span></a>
<a class="sourceLine" id="cb11-35" title="35">        <span class="dt">Call =</span> <span class="st">"F1"</span>,</a>
<a class="sourceLine" id="cb11-36" title="36">        <span class="dt">Args =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb11-37" title="37">        <span class="co"># Describe Function in Telegram</span></a>
<a class="sourceLine" id="cb11-38" title="38">        <span class="dt">Message =</span> <span class="st">"Type four arguments as:</span><span class="ch">\n</span><span class="st">c(Arg1 = 'First Argument', Arg2 = 'Second Argument', Arg3 = 'Third and Last', TFalse = 'FALSE')</span><span class="ch">\n</span><span class="st">Plan the function you source to fit this convention."</span></a>
<a class="sourceLine" id="cb11-39" title="39">   )</a>
<a class="sourceLine" id="cb11-40" title="40"></a>
<a class="sourceLine" id="cb11-41" title="41">Second_Foo &lt;-<span class="st"> </span><span class="cf">function</span>(X){</a>
<a class="sourceLine" id="cb11-42" title="42"></a>
<a class="sourceLine" id="cb11-43" title="43">  <span class="kw">print</span>(<span class="kw">sqrt</span>(<span class="kw">as.numeric</span>(X)) )</a>
<a class="sourceLine" id="cb11-44" title="44">  Rbot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/Rbot/topics/Text_Bot">Text_Bot</a></span>(<span class="dt">Msg =</span> <span class="kw">paste0</span>(<span class="st">"Answer: "</span>, <span class="kw">print</span>(<span class="kw">sqrt</span>(<span class="kw">as.numeric</span>(X)) )), <span class="dt">Bot_Name =</span> <span class="st">"A"</span>)</a>
<a class="sourceLine" id="cb11-45" title="45">  <span class="kw">message</span>(<span class="st">"R Msg: ....Function 2 executed...."</span>)</a>
<a class="sourceLine" id="cb11-46" title="46"></a>
<a class="sourceLine" id="cb11-47" title="47">}</a>
<a class="sourceLine" id="cb11-48" title="48"></a>
<a class="sourceLine" id="cb11-49" title="49">Function_List<span class="op">$</span>Foo2 &lt;-</a>
<a class="sourceLine" id="cb11-50" title="50"><span class="st">   </span><span class="kw">list</span>(<span class="dt">Function =</span> Second_Foo,</a>
<a class="sourceLine" id="cb11-51" title="51">        <span class="dt">Call =</span> <span class="st">"F2"</span>,</a>
<a class="sourceLine" id="cb11-52" title="52">        <span class="dt">Args =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb11-53" title="53">        <span class="co"># Describe Function in Telegram</span></a>
<a class="sourceLine" id="cb11-54" title="54">        <span class="dt">Message =</span> <span class="st">"Second Function Call...Just add any argument"</span>)</a>
<a class="sourceLine" id="cb11-55" title="55"></a>
<a class="sourceLine" id="cb11-56" title="56"> Error_Foo &lt;-<span class="st"> </span><span class="cf">function</span>(){</a>
<a class="sourceLine" id="cb11-57" title="57">   x &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb11-58" title="58">   <span class="cf">if</span>( <span class="kw">is.infinite</span>(<span class="dv">10</span><span class="op">/</span>x)) <span class="kw">stop</span>(<span class="st">"Example of error being thrown, but not breaking connection..."</span>)</a>
<a class="sourceLine" id="cb11-59" title="59"></a>
<a class="sourceLine" id="cb11-60" title="60">}</a>
<a class="sourceLine" id="cb11-61" title="61"></a>
<a class="sourceLine" id="cb11-62" title="62">Function_List<span class="op">$</span>Foo3 &lt;-</a>
<a class="sourceLine" id="cb11-63" title="63"><span class="st">   </span><span class="kw">list</span>(<span class="dt">Function =</span> Error_Foo,</a>
<a class="sourceLine" id="cb11-64" title="64">        <span class="dt">Call =</span> <span class="st">"Error_Example"</span>,</a>
<a class="sourceLine" id="cb11-65" title="65">        <span class="dt">Args =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb11-66" title="66">        <span class="dt">Message =</span> <span class="st">"</span><span class="ch">\n</span><span class="st">Error function illustrated: </span><span class="ch">\n</span><span class="st">This illustrates that the connection with the phone will  be preserved using purrr::safely"</span>)</a>
<a class="sourceLine" id="cb11-67" title="67"></a>
<a class="sourceLine" id="cb11-68" title="68"></a>
<a class="sourceLine" id="cb11-69" title="69"> Bot_Name &lt;-<span class="st"> "A"</span></a>
<a class="sourceLine" id="cb11-70" title="70"> <span class="kw"><a href="../reference/Foo_Bot.html">Foo_Bot</a></span>(<span class="dt">Bot_Name =</span> Bot_Name, <span class="dt">Function_List =</span> Function_List, <span class="dt">LoadMessage =</span> <span class="st">"My connection with R"</span>,</a>
<a class="sourceLine" id="cb11-71" title="71">        <span class="dt">KillR =</span> <span class="ot">TRUE</span>, <span class="dt">KillCPU =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb11-72" title="72"></a>
<a class="sourceLine" id="cb11-73" title="73"> <span class="co"># Alternatively, no Function_List (implying only ability to switch off computer or killR, e.g.):</span></a>
<a class="sourceLine" id="cb11-74" title="74"></a>
<a class="sourceLine" id="cb11-75" title="75"><span class="co"># Foo_Bot(Bot_Name = Bot_Name, Function_List = NULL, LoadMessage = "My connection with R",</span></a>
<a class="sourceLine" id="cb11-76" title="76"><span class="co">#         KillR = TRUE, KillCPU = FALSE)</span></a>
<a class="sourceLine" id="cb11-77" title="77"></a>
<a class="sourceLine" id="cb11-78" title="78">    </a></code></pre></div>
<div id="safe-functions" class="section level4">
<h4 class="hasAnchor">
<a href="#safe-functions" class="anchor"></a>Safe functions</h4>
<ul>
<li><p>The functions above are safe - implying an error will not break the connection.</p></li>
<li><p>You can see e.g. when running the third function call: <strong>/Error_Example</strong>, it gives you an error, but keeps open the connection.</p></li>
</ul>
<blockquote>
<p>Also note, you can restart R with KillR, or even switch off your computer completely by setting KillCPU to TRUE, and typing /killCPU. Take caution - this is a no questions asked shutdown of your pc - great for use on public computers where you are, e.g., downloading data from remotely.</p>
</blockquote>
</div>
<div id="more" class="section level4">
<h4 class="hasAnchor">
<a href="#more" class="anchor"></a>More</h4>
<p>For more details on the functions, use: ?FunctionName</p>
<p>I hope you enjoy the teamwork from R and your phone from now on. You are welcome to submit any additions to this package on github.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#rbot-making-r-and-your-phone-best-friends">Rbot: Making R and your Phone Best Friends</a></li>
      <li><a href="#add_bot">Add_Bot</a></li>
      <li><a href="#show_bot">Show_Bot</a></li>
      <li><a href="#text_bot-img_bot-doc_bot">Text_Bot, Img_Bot, Doc_Bot</a></li>
      <li><a href="#foo_bot">Foo_Bot</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Nico Katzke.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
